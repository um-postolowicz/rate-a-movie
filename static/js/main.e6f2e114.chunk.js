(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{37:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(2),n=c.n(a),r=c(15),i=c.n(r),o=c(11),l=c(3),j=(c(37),c(5)),d=c(16),b=c.p+"static/media/no-poster.b16e615a.svg",h=c(9),m=[{id:1,icon:Object(s.jsx)(h.a,{})},{id:2,icon:Object(s.jsx)(h.a,{})},{id:3,icon:Object(s.jsx)(h.a,{})},{id:4,icon:Object(s.jsx)(h.a,{})},{id:5,icon:Object(s.jsx)(h.a,{})}],u=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),c=Object(j.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(m),o=Object(j.a)(i,2),l=o[0],d=o[1];return Object(s.jsx)(s.Fragment,{children:n?Object(s.jsx)("p",{className:"movies__rate-sent",children:"Thank you for your rate!"}):Object(s.jsxs)("div",{className:"movies__rate-and-send",children:[Object(s.jsx)("ul",{className:"movies__stars",onClick:function(t){var c=[].concat(m);d(c);var a=t.clientX,n=e.current.offsetParent.offsetLeft,r=a-e.current.offsetLeft-n-2,i=Math.ceil(r/12.5);l.forEach((function(e){return e.icon=Object(s.jsx)(h.a,{})}));for(var o=0;o<i/2;o++)l[o].icon=Object(s.jsx)(h.b,{});if(i%2!==0){var j=Math.floor(i/2);l[j].icon=Object(s.jsx)(h.c,{})}return l},ref:e,children:l.map((function(e){return Object(s.jsx)("li",{children:e.icon},e.id)}))}),Object(s.jsx)("button",{className:"movies__btn btn movies__btn--rate",onClick:function(){r(!0);var e=m.map((function(e){return e.icon=Object(s.jsx)(h.a,{})}));d(e)},children:"Send"})]})})},O=c(31),x=function(e){var t=e.buttonContent,c=Object(l.f)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("button",{className:"back logo-back__btn",onClick:function(){return c.goBack()},children:[Object(s.jsx)(O.a,{className:"back__icon"}),Object(s.jsx)("p",{className:"back__text",children:t})]})})},p="http://www.omdbapi.com/?apikey=".concat("2fc6065a","&i="),_=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),o=i[0],h=i[1],m=Object(a.useState)([]),O=Object(j.a)(m,2),_=O[0],v=O[1],f=Object(l.g)().id,N=_.Actors,g=_.Awards,y=_.Country,w=_.Director,k=_.Genre,S=_.Plot,T=_.Poster,C=_.Ratings,M=_.Released,R=_.Runtime,D=_.Title,Y=_.Type,F=_.Writer,I=function(){window.matchMedia("(orientation:landscape)").matches?n(!0):n(!1),window.matchMedia("(min-width:767px) and (orientation:portrait)").matches||window.matchMedia("(min-width:1023px) and (orientation:landscape)").matches?h(!0):h(!1)};return Object(a.useEffect)((function(){return d.animateScroll.scrollTo(0),v([]),fetch(p+f).then((function(e){if(e.ok)return e.json();throw new Error("Http error: ".concat(e.status))})).then((function(e){return v(e)})).catch((function(e){return console.log(e)})),window.addEventListener("orientationchange",I),function(){window.removeEventListener("orientationchange",I)}}),[f,c,o]),Object(s.jsx)(s.Fragment,{children:_?Object(s.jsxs)(s.Fragment,{children:[o?Object(s.jsxs)("div",{className:"logo-back",children:[Object(s.jsx)(x,{buttonContent:"Go Back to Movies List"}),Object(s.jsx)("h1",{className:"logo-back__logo",children:"Rate your movie"})]}):Object(s.jsx)(x,{buttonContent:c?"Go Back to Movies List":null}),Object(s.jsxs)("div",{className:"movie",children:[Object(s.jsx)("h1",{className:"movie__title",children:D}),Object(s.jsx)("p",{className:"movie__type",children:Y}),Object(s.jsx)("img",{alt:"Movie poster",className:"movie__poster",src:T||b}),Object(s.jsx)("p",{className:"movie__description",children:S}),Object(s.jsxs)("div",{className:"movie__user-rate",children:[Object(s.jsx)("h2",{className:"movie__user-rate-title",children:"Rate it:"}),Object(s.jsx)(u,{})]}),Object(s.jsxs)("div",{className:"movie__information",children:[Object(s.jsx)("h2",{className:"movie__information-title",children:"Info:"}),Object(s.jsxs)("p",{className:"movie__genre",children:["Genre: ",Object(s.jsx)("span",{children:k})]}),Object(s.jsxs)("p",{className:"movie__country",children:["Country: ",Object(s.jsx)("span",{children:y})]}),Object(s.jsxs)("p",{className:"movie__director",children:["Director: ",Object(s.jsx)("span",{children:w})]}),Object(s.jsxs)("p",{className:"movie__date",children:["Date of release: ",Object(s.jsx)("span",{children:M})]}),Object(s.jsxs)("p",{className:"movie__actors",children:["Actors: ",Object(s.jsx)("span",{children:N})]}),Object(s.jsxs)("p",{className:"movie__writers",children:["Writers: ",Object(s.jsx)("span",{children:F})]}),Object(s.jsxs)("p",{className:"movie__runtime",children:["Runtime: ",Object(s.jsx)("span",{children:R})]}),Object(s.jsxs)("p",{className:"movie__awards",children:["Awards: ",Object(s.jsx)("span",{children:g})]})]}),Object(s.jsxs)("div",{className:"movie__rates",children:[Object(s.jsx)("h2",{className:"movie__rates-title",children:"Rates:"}),C?C.map((function(e){return Object(s.jsxs)("p",{className:"movie__rates-types",children:[e.Source,": ",Object(s.jsx)("span",{children:e.Value})]},e.Source)})):Object(s.jsx)("p",{className:"movie__no-rate",children:"No other rates avaliable."})]})]})]}):Object(s.jsx)("h1",{children:"Lala"})})},v=function(){return Object(s.jsx)("header",{className:"header",children:Object(s.jsx)("div",{className:"header__color-opacity",children:Object(s.jsxs)("div",{className:"header__container",children:[Object(s.jsx)("h1",{className:"header__title",children:"Rate your Movie"}),Object(s.jsxs)("p",{className:"header__desc",children:[Object(s.jsx)("span",{children:"Have you just watched an amazing movie and want to share that delight with other people?"})," ",Object(s.jsx)("span",{children:"Or the movie was a disaster and you want to save others from that nightmare?"})," ",Object(s.jsx)("span",{children:"You are in the right place!"})," ",Object(s.jsx)("span",{children:"Find a movie by typing it's title below and feel free to rate it!"})]})]})})})},f=function(e){var t=e.closeModal;return e.isModalVisible?Object(s.jsx)("div",{className:"modal",onClick:t,children:Object(s.jsxs)("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()},children:[Object(s.jsxs)("div",{className:"modal__header",children:[Object(s.jsx)("h3",{className:"modal__header-title",children:"About the Page"}),Object(s.jsx)("div",{className:"modal__close",children:Object(s.jsx)("button",{className:"modal__close-btn",onClick:t,children:"X"})})]}),Object(s.jsxs)("div",{className:"modal__body",children:[Object(s.jsx)("span",{className:"modal__welcome",children:"Welcome dear user!"}),Object(s.jsx)("p",{className:"modal__text",children:"I would like to inform you, that this page was created only for recruitment purposes. Your ratings are not stored in any database."}),Object(s.jsxs)("p",{className:"modal__text",children:[Object(s.jsx)("span",{className:"modal__important",children:"Rate your Movie"})," page gets all the information from OMDb API. Check it here:"," ",Object(s.jsx)("a",{className:"modal__link",href:"http://www.omdbapi.com",children:"OMDb API"}),"."]})]})]})}):null},N=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(l.f)(),i=Object(a.useRef)(null),o=function(e){e.preventDefault(),c?(i.current.placeholder="Find a movie",i.current.classList.remove("no-input")):(i.current.placeholder="You have to type a title",i.current.classList.add("no-input"),console.log(i.current.classList)),r.push("/".concat(c)),n("")};return Object(s.jsxs)("form",{className:"search",onSubmit:o,children:[Object(s.jsx)("input",{className:"search__input",onChange:function(e){n(e.target.value)},placeholder:"Find a movie",ref:i,type:"text",value:c}),Object(s.jsx)("button",{className:"search__btn btn",onClick:o,type:"submit",children:"Search"})]})},g=function(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)(v,{}),Object(s.jsx)(N,{}),Object(s.jsx)(f,{closeModal:function(){return n(!1)},isModalVisible:c})]})},y=c.p+"static/media/erroricon.91ce532b.svg",w=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"error",children:[Object(s.jsx)("img",{className:"error__sign",src:y,alt:"error icon"}),Object(s.jsx)("h1",{className:"error__text",children:"Sorry, but the title you entered was most probably misspelled. Try to enter it again."})]})})},k=function(e){var t=e.index,c=e.poster,n=e.searchValue,r=e.title,i=e.type,l=e.year,d=Object(a.useState)(!1),h=Object(j.a)(d,2),m=h[0],O=h[1],x=Object(a.useRef)(null);Object(a.useEffect)((function(){"N/A"===x.current.getAttribute("src")&&(x.current.attributes.src.textContent=b)}));return Object(s.jsxs)("li",{className:"movies__container",children:[Object(s.jsx)("h2",{className:"movies__title",children:r}),Object(s.jsx)("p",{className:"movies__type",children:i.toUpperCase()}),Object(s.jsx)("h3",{className:"movies__year",children:l}),Object(s.jsx)("img",{alt:"movie poster",className:"movies__poster",ref:x,src:c}),Object(s.jsx)(o.b,{className:"movies__btn btn",to:"/".concat(n,"/").concat(t),children:"See details"}),m?Object(s.jsx)(u,{}):Object(s.jsx)("button",{className:"movies__btn btn",onClick:function(e){e.preventDefault(),O(!0)},children:"Rate it!"})]})},S=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"search-bar",children:Object(s.jsxs)("div",{className:"search-bar__container",children:[Object(s.jsx)("h4",{className:"search-bar__logo",children:"R Y M"}),Object(s.jsx)(N,{})]})})})},T="http://www.omdbapi.com/?apikey=".concat("2fc6065a","&page=1&s="),C=function(){var e=Object(l.g)().searchValue,t=Object(a.useState)(!1),c=Object(j.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(!1),o=Object(j.a)(i,2),b=o[0],h=o[1],m=Object(a.useState)([]),u=Object(j.a)(m,2),O=u[0],x=u[1],p=Object(a.useState)(""),_=Object(j.a)(p,2),f=_[0],g=_[1],y=Object(a.useRef)(null),C=function(){try{O.map((function(t){return t.Type,Object(s.jsx)(k,{index:t.imdbID,poster:t.Poster,searchValue:e,title:t.Title,type:t.Type,year:t.Year},t.imdbID)}))}catch(t){return!0}return!1};Object(a.useEffect)((function(){x([]),fetch(T+'"'.concat(e,'"')).then((function(e){if(e.ok)return e.json();throw new Error("Http error: ".concat(e.status))})).then((function(e){return x(e.Search)})).catch((function(e){return console.log(e)})),function(){var e=window.innerHeight;d.animateScroll.scrollTo(e)}(),h(!0)}),[e]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{}),Object(s.jsx)(N,{}),!C()&&b&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S,{}),Object(s.jsxs)("form",{className:"select__container",children:[Object(s.jsx)("label",{className:"select__title",htmlFor:"select",children:"Sort by:"}),Object(s.jsxs)("select",{name:"select",id:"select",className:"select__list",onChange:function(){r(!n);var e=y.current,t=e.options[e.selectedIndex].value,c=O;"title-up"===t?c.sort((function(e,t){return e.Title>t.Title?1:-1})):"title-down"===t?c.sort((function(e,t){return t.Title>e.Title?1:-1})):"year-up"===t?c.sort((function(e,t){return e.Year>t.Year?1:-1})):"year-down"===t&&c.sort((function(e,t){return t.Year>e.Year?1:-1})),g(c)},ref:y,children:[Object(s.jsx)("option",{value:"default",children:"Select..."}),Object(s.jsx)("option",{value:"title-up",children:"Title of the movie (ascending)"}),Object(s.jsx)("option",{value:"title-down",children:"Title of the movie (descending)"}),Object(s.jsx)("option",{value:"year-up",children:"Year of the production (ascending)"}),Object(s.jsx)("option",{value:"year-down",children:"Year of the production (descending)"})]})]})]}),!C()&&Object(s.jsx)("ul",{className:"movies",children:f?f.map((function(t){return t.Type,Object(s.jsx)(k,{index:t.imdbID,poster:t.Poster,searchValue:e,title:t.Title,type:t.Type,year:t.Year},t.imdbID)})):O.map((function(t){return t.Type,Object(s.jsx)(k,{index:t.imdbID,poster:t.Poster,searchValue:e,title:t.Title,type:t.Type,year:t.Year},t.imdbID)}))}),C()&&Object(s.jsx)(w,{})]})};var M=function(){return Object(s.jsx)(o.a,{children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{path:"/",component:g,exact:!0}),Object(s.jsx)(l.a,{path:"/:searchValue",component:C,exact:!0}),Object(s.jsx)(l.a,{path:"/:searchValue/:id",component:_})]})})};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.e6f2e114.chunk.js.map